Initial state: (0)
Initial register assignments:

(0) P->Q:m{m=100} (1)

(1) C->X1:clause{clause=1} (2)
(2) C->P:clause{clause=1} (3)
(3) X1->P:block{block=2} (0)

(1) C->X1:next{next=3} (4)
(4) C->NX1:next{next=3} (5)
(5) C->P:next{next=3} (6)

(6) C->NX1:clause{clause=1} (7)
(7) C->P:clause{clause=1} (8)
(8) NX1->P:block{block=2} (1)

(6) C->X1:next{next=3} (9)
(9) C->NX1:next{next=3} (10)
(10) C->P:next{next=3} (11)
(11) P->Q:last{last=4} (12)
(12) Q->P:block{block=2} (13)
(13) Q->X1:block{block=2} (14)
(14) Q->NX1:block{block=2} (15)

(15) R->P:l{l=5} (16)
(16) R->C:yes{yes=6} (17)
(17) R->Q:m{m=100} (18)
(18) C->X1:send{send=7} (19)
(19) C->NX1:nosend{nosend=8} (20)
(20) X1->Q:m{m=100} (21)
(21) Q->X1:block{block=2} (6)

(18) C->X1:nosend{nosend=8} (22)
(22) C->NX1:send{send=7} (23)
(23) NX1->Q:m{m=100} (24)
(24) Q->NX1:block{block=2} (6)

(15) R->P:r{r=9} (25)
(25) R->C:no{no=10} (26)
(26) P->Q:m{m=100} (27)

Final states: (27)